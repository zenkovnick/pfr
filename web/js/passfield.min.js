/*
 Pass*Field v1.0.0 | (c) 2013 Antelle | https://github.com/antelle/passfield/blob/master/MIT-LICENSE.txt
*/
(function(q,y,G,Z){var m=G.PassField={};m.Config={};m.CharTypes={DIGIT:"digits",LETTER:"letters",LETTER_UP:"letters_up",SYMBOL:"symbols",UNKNOWN:"unknown"};m.Config={defaults:{pattern:"aBCd4567",acceptRate:0.8,allowEmpty:!0,isMasked:!0,showToggle:!0,showGenerate:!0,showWarn:!0,showTip:!0,strengthCheckTimeout:500,validationCallback:null,blackList:[],locale:"",localeMsg:{},warnMsgClassName:"help-inline",errorWrapClassName:"error",allowAnyChars:!0,chars:{digits:"1234567890",letters:"abcdefghijklmnopqrstuvwxyz",
letters_up:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",symbols:"@#$%^&*()-_=+[]{};:<>/?!"}},locales:{en:{lower:!0,msg:{pass:"password",showPass:"Show password",hidePass:"Hide password",genPass:"Random password",passTooShort:"password is too short",noDigits:"password must contain digits",noLetters:"password must contain letters",noLetters_up:"password must contain letters in UPPER case",noSymbols:"password must contain symbols ({})",inBlackList:"password is in list of top used passwords",passRequired:"password is required",
badChars:"password contains bad characters: “{}”",weakWarn:"weak",invalidPassWarn:"*",weakTitle:"This password is weak",generateMsg:"To generate a strong password, click {} button."}},de:{lower:!1,msg:{pass:"Passwort",showPass:"Passwort anzeigen",hidePass:"Passwort verbergen",genPass:"Zufallspasswort",passTooShort:"Passwort ist zu kurz",noDigits:"Passwort muss Ziffern enthalten",noLetters:"Passwort muss Buchstaben enthalten",noLetters_up:"Passwort muss Buchstaben in GROSSSCHRIFT enthalten",noSymbols:"Passwort muss Symbole ({}) enthalten",
inBlackList:"Passwort steht auf der Liste der beliebtesten Passwörter",passRequired:"Passwort wird benötigt",badChars:"Passwort enthält ungültige Zeichen: “{}”",weakWarn:"Schwach",invalidPassWarn:"*",weakTitle:"Dieses Passwort ist schwach",generateMsg:"Klicken Sie auf den {}-Button, um ein starkes Passwort zu generieren."}},fr:{lower:!0,msg:{pass:"mot de passe",showPass:"Montrer le mot de passe",hidePass:"Cacher le mot de passe",genPass:"Mot de passe aléatoire",passTooShort:"le mot de passe est trop court",
noDigits:"le mot de passe doit contenir des chiffres",noLetters:"le mot de passe doit contenir des lettres",noLetters_up:"le mot de passe doit contenir des lettres en MAJUSCULES",noSymbols:"le mot de passe doit contenir des symboles ({})",inBlackList:"le mot de passe est dans la liste des plus utilisés",passRequired:"le mot de passe est requis",badChars:"le mot de passe contient des caractères incorrects: “{}”",weakWarn:"faible",invalidPassWarn:"*",weakTitle:"Ce mot de passe est faible",generateMsg:"Pour créer un mot de passe fort cliquez sur le bouton."}},
it:{lower:!1,msg:{pass:"password",showPass:"Mostra password",hidePass:"Nascondi password",genPass:"Password casuale",passTooShort:"la password è troppo breve",noDigits:"la password deve contenere numeri",noLetters:"la password deve contenere lettere",noLetters_up:"la password deve contenere lettere in MAIUSCOLO",noSymbols:"la password deve contenere simboli ({})",inBlackList:"la password è nella lista delle password più usate",passRequired:"è necessaria una password",badChars:"la password contiene caratteri non accettati: “{}”",
weakWarn:"debole",invalidPassWarn:"*",weakTitle:"Questa password è debole",generateMsg:"Per generare una password forte, clicca sul tasto {}."}},ru:{lower:!0,msg:{pass:"пароль",showPass:"Показать пароль",hidePass:"Скрыть пароль",genPass:"Случайный пароль",passTooShort:"пароль слишком короткий",noDigits:"в пароле должны быть цифры",noLetters:"в пароле должны быть латинские буквы",noLetters_up:"в пароле должны быть латинские буквы в ВЕРХНЕМ регистре",noSymbols:"в пароле должны быть символы ({})",inBlackList:"этот пароль часто используется в Интернете",
badChars:"в пароле есть недопустимые символы: «{}»",weakWarn:"слабый",passRequired:"пароль обязателен",invalidPassWarn:"*",weakTitle:"Пароль слабый, его легко взломать",generateMsg:"Чтобы сгенерировать пароль, нажмите кнопку {}."}},ua:{lower:!0,msg:{pass:"пароль",showPass:"Показати пароль",hidePass:"Сховати пароль",genPass:"Випадковий пароль",passTooShort:"пароль є занадто коротким",noDigits:"пароль повинен містити цифри",noLetters:"пароль повинен містити латинські букви",noLetters_up:"пароль повинен містити латинські букви у ВЕРХНЬОМУ регістрі",
noSymbols:"пароль повинен містити cимволи ({})",inBlackList:"пароль входить до списку паролей, що використовуються найчастіше",passRequired:"пароль є обов'язковим",badChars:"пароль містить неприпустимі символи: «{}»",weakWarn:"слабкий",invalidPassWarn:"*",weakTitle:"Цей пароль є слабким",generateMsg:"Щоб ​​створити надійний пароль, натисніть кнопку {}."}},es:{lower:!0,msg:{pass:"contraseña",showPass:"Mostrar contraseña",hidePass:"Ocultar contraseña",genPass:"Contraseña aleatoria",passTooShort:"contraseña demasiado corta",
noDigits:"la contraseña debe contener dígitos",noLetters:"la contraseña debe contener letras",noLetters_up:"la contraseña debe contener letras en MAYÚSCULAS",noSymbols:"la contraseña debe contener símbolos ({})",inBlackList:"la contraseña está en la lista de las contraseñas más usadas",passRequired:"se requiere contraseña",badChars:"la contraseña contiene caracteres no permitidos: “{}”",weakWarn:"débil",invalidPassWarn:"*",weakTitle:"Esta contraseña es débil",generateMsg:"Para generar una contraseña segura, haga clic en el botón de {}."}},
el:{lower:!0,msg:{pass:"πρόσβασης",showPass:"Προβολή κωδικού πρόσβασης",hidePass:"Απόκρυψη κωδικού πρόσβασης",genPass:"Τυχαίος κωδικός πρόσβασης",passTooShort:"ο κωδικός πρόσβασης είναι πολύ μικρός",noDigits:"ο κωδικός πρόσβασης πρέπει να περιέχει ψηφία",noLetters:"ο κωδικός πρόσβασης πρέπει να περιέχει λατινικά γράμματα",noLetters_up:"ο κωδικός πρόσβασης πρέπει να περιέχει λατινικά γράμματα με ΚΕΦΑΛΑΙΑ",noSymbols:"ο κωδικός πρόσβασης πρέπει να περιέχει σύμβολα ({})",inBlackList:"ο κωδικός πρόσβασης βρίσκεται σε κατάλογο δημοφιλέστερων κωδικών",
passRequired:"απαιτείται κωδικός πρόσβασης",badChars:"ο κωδικός περιέχει μη επιτρεπτούς χαρακτήρες: “{}”",weakWarn:"αδύναμος",invalidPassWarn:"*",weakTitle:"Αυτός ο κωδικός πρόσβασης είναι αδύναμος",generateMsg:"Για να δημιουργήσετε δυνατό κωδικό πρόσβασης, κάντε κλικ στο κουμπί {}."}}},blackList:"password 123456 12345678 abc123 qwerty monkey letmein dragon 111111 baseball iloveyou trustno1 1234567 sunshine master 123123 welcome shadow ashley football jesus michael ninja mustang password1 p@ssw0rd miss root secret".split(" "),
dataAttr:"PassField.Field"};m.Field=function(b,e){var f,d,s,j,w,n,t,K,u,L,p;function I(){var c=$(A?d:j);c.top+=B(A?d:j,"marginTop");var a=5;n&&(a+=B(n,"width"),M(n,{top:c.top,left:c.left+c.width-a,height:c.height}));t&&(a+=B(t,"width"),M(t,{top:c.top,left:c.left+c.width-a,height:c.height}),K.style.marginTop=Math.max(0,Math.round((c.height-19)/2))+"px");p&&M(p,{top:c.top,left:c.left+7,height:c.height});u&&M(u,{left:c.left,top:c.top+c.height,width:c.width})}function S(){var c;c=A?j.value=d.value:d.value=
j.value;0<g.strengthCheckTimeout&&!T?(C&&clearTimeout(C),C=setTimeout(N,g.strengthCheckTimeout)):N();p&&!c&&(p.style.display="block")}function aa(){p&&(p.style.display="none")}function U(){O&&clearTimeout(O);V(s,"focused")||I();x(s,"focused")}function ba(){O=setTimeout(function(){O=null;W(s,"focused")},100)}function P(c,a){a===Z&&(a=!0);c=c===Z?!A:!!c;var b=Q(A?d:j,"display");c?(d.style.display=b,j.style.display="none",d.value=j.value,a&&d.focus(),n&&(E(n,"abc"),n.title=k.msg.showPass)):(j.style.display=
b,d.style.display="none",j.value=d.value,a&&j.focus(),n&&(E(n,"&bull;&bull;&bull;"),n.title=k.msg.hidePass));d.nextSibling!=j&&F(d,j);A=c}function N(){if(!ca)return!0;C&&(clearTimeout(C),C=null);var c=A?d.value:j.value,a;a=X(g.pattern,m.CharTypes.SYMBOL);var b=X(c,g.allowAnyChars?m.CharTypes.SYMBOL:m.CharTypes.UNKNOWN),f=[];h.each(a,function(a){if(!b[a]){var c="no"+a.charAt(0).toUpperCase()+a.substring(1),c=k.msg[c];0<=c.indexOf("{}")&&(a=g.chars[a],4<a.length&&(a=a.substring(0,4)),c=c.replace("{}",
a));f.push(c)}});a=1-0.25*f.length;var e=c.length/g.pattern.length-1;0>e&&(a+=e,f.push(k.msg.passTooShort));0>a&&(a=0);var n=[],p={letters:"1",digits:"!",letters_up:"2"};q.each({letters:1,digits:2,letters_up:3,symbols:4},function(a){p[a]||n.push(1)});a={strength:a,messages:f,charTypes:b};if(0==c.length)a={strength:g.allowEmpty?0:null,messages:[k.msg.passRequired]};else{!g.allowAnyChars&&a.charTypes[m.CharTypes.UNKNOWN]&&(a={strength:null,messages:[k.msg.badChars.replace("{}",a.charTypes[m.CharTypes.UNKNOWN])]});
delete a.charTypes;var r=!1;h.each(g.blackList,function(a){return a==c?(r=!0,!1):!0});r&&(a={strength:0,messages:[k.msg.inBlackList]})}if("function"===typeof g.validationCallback){var e=g.validationCallback(d,a),v,l;e&&(e.messages&&h.isArray(e.messages))&&(v=e.messages);if(e&&Object.prototype.hasOwnProperty.call(e,"strength")&&("number"===typeof e.strength||null===e.strength))l=e.strength;v&&v.length?(a.messages=v,a.strength=l):l&&l>a.strength&&(a.strength=l)}if(0==c.length&&g.allowEmpty)return da(),
!0;if(null===a.strength||a.strength<g.acceptRate)return v=a.messages,e=l="",null===a.strength?(l=k.msg.invalidPassWarn,e=v[0].charAt(0).toUpperCase()+v[0].substring(1)):(l=k.msg.weakWarn,v&&v.length&&(a=v[0].charAt(0),k.lower&&(a=a.toLowerCase()),e=k.msg.weakTitle+": "+a+v[0].substring(1))),e&&"."!=e[e.length-1]&&(e+="."),Y=e,w&&(E(w,l),w.title=e,g.errorWrapClassName&&x(s,g.errorWrapClassName,!0)),u&&(x(u,"tip-shown"),a=e,t&&(a+=" "+k.msg.generateMsg.replace("{}",'<div class="'+(H+"btn-gen-help")+
'"></div>')),E(L,a),I()),T=!0,!1;da();return!0}function da(){Y=null;w&&(E(w,""),w.title="",g.errorWrapClassName&&W(s,g.errorWrapClassName,!0));u&&W(u,"tip-shown");T=!1}function X(c,a){for(var b={},d=0;d<c.length;d++){var e=c.charAt(d),f=a;h.each(g.chars,function(a,c){return 0<=c.indexOf(e)?(f=a,!1):!0});b[f]=(b[f]||"")+e}return b}function r(c,a,b){a.id&&(a.id=H+a.id+"-"+J);a.className&&(a.className=H+a.className);return h.newEl(c,a,b)}function ea(c){try{return c.getBoundingClientRect()}catch(a){return{top:0,
left:0}}}function fa(c){var a=c.ownerDocument;if(!a)return{top:0,left:0};c=ea(c);return{top:c.top+(G.pageYOffset||0)-(a.documentElement.clientTop||0),left:c.left+(G.pageXOffset||0)-(a.documentElement.clientLeft||0)}}function ga(c){var a,b={top:0,left:0};if("fixed"===Q(c,"position"))a=ea(c);else{var d;try{a=c.offsetParent}catch(e){}a||(a=y.documentElement);for(;a&&"html"!=a.nodeName.toLowerCase()&&"static"===Q(a,"position");)a=a.offsetParent;d=a||y.documentElement;a=fa(c);"html"!=d.nodeName.toLowerCase()&&
(b=fa(d));b.top+=B(d,"borderTopWidth");b.left+=B(d,"borderLeftWidth")}return{top:a.top-b.top-B(c,"marginTop"),left:a.left-b.left-B(c,"marginLeft")}}function $(c){return h.extend(ga(c),{width:c.offsetWidth,height:c.offsetHeight})}function M(c,a){h.each(a,function(a,b){isNaN(b)||(c.style[a]=b+"px","height"==a&&(c.style.lineHeight=b+"px"))})}function Q(c,a){var b="function"===typeof G.getComputedStyle?G.getComputedStyle(c):c.currentStyle;return b?b[a]:null}function B(c,a){var b=Q(c,a);if(!b)return 0;
b=parseFloat(b);return isNaN(b)?0:b}function F(c,a){c.parentNode.insertBefore(a,c.nextSibling)}function E(c,a){try{c.innerHTML=a}catch(b){var d=y.createElement();for(d.innerHTML=a;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(d)}}function x(c,a,b){V(c,a,b)||(c.className=c.className+(c.className?" ":"")+(!0===b?a:H+a))}function W(c,a,b){V(c,a,b)&&(c.className=(" "+c.className+" ").replace((!0===b?a:H+a)+" ","").replace(/^\s+|\s+$/g,""))}function V(c,a,b){a=" "+(!0===b?a:H+a)+" ";return-1<
(" "+c.className+" ").replace(/[\n\t]/g," ").indexOf(a)}var l=m.Config;p=L=u=K=t=n=w=j=s=d=void 0;var g=h.extend({},l.defaults,e),A=!0,k,J,C,O,T=!1,Y=null,z,ca,H="a_pf-";this.toggleMasking=function(c){P(c)};this.setPass=function(c){d.value=c;j.value=c;S()};this.validatePass=N;this.getPassValidationMessage=function(){return Y};z=-1;"Microsoft Internet Explorer"==navigator.appName&&(f=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent),null!=f&&(z=parseFloat(f[1])));if(ca=0>z||6<=z)if(g.showGenerate&&
!g.showToggle&&(g.isMasked=!1),g.blackList=(g.blackList||[]).concat(m.Config.blackList),"string"==typeof b&&(b=y.getElementById(b)),d=b){f=g.locale;!f&&navigator.language&&(f=navigator.language.replace(/\-.*/g,""));f&&(k=l.locales[f]);k&&(k=h.extend({},l.locales.en,k));k||(k=h.extend({},l.locales.en));g.localeMsg&&h.extend(k.msg,g.localeMsg);J=d.id;J||(J="i"+Math.round(1E5*Math.random()),d.id=J);l=!0;"placeholder"in y.createElement("input")||(l=!1);f=y.createElement("div");f.style.paddingLeft=f.style.width=
"1px";y.body.appendChild(f);y.body.removeChild(f);f=l;var D=$(d);D.top+=B(d,"marginTop");l=D.height+"px";x(d,"txt-pass");s=d.parentNode;x(s,"wrap");j=r("input",{type:"text",id:"txt-clear",className:"txt-clear",placeholder:d.placeholder,value:d.value});var R=d.style.cssText;R&&(j.style.cssText=R);(R=d.getAttribute("maxLength"))&&j.setAttribute("maxLength",R);j.style.display="none";F(d,j);g.showWarn&&(w=r("div",{id:"warn",className:"warn"},{margin:"0 0 0 3px"}),g.warnMsgClassName&&x(w,g.warnMsgClassName,
!0),F(j,w));g.showToggle&&(n=r("div",{id:"btn-mask",className:"btn-mask",title:k.msg.showPass},{position:"absolute",margin:"0",padding:"0"}),x(n,"btn"),E(n,"abc"),F(j,n));g.showGenerate&&(t=r("div",{id:"btn-gen",className:"btn-gen",title:k.msg.genPass},{position:"absolute",margin:"0",padding:"0"}),x(t,"btn"),F(j,t),K=r("div",{id:"btn-gtn-i",className:"btn-gen-i",title:k.msg.genPass}),t.appendChild(K));g.showTip&&(u=r("div",{id:"tip",className:"tip"},{position:"absolute",margin:"0",padding:"0",width:D.width+
"px"}),F(j,u),D=r("div",{id:"tip-arr-wrap",className:"tip-arr-wrap"}),u.appendChild(D),D.appendChild(r("div",{id:"tip-arr",className:"tip-arr"})),D.appendChild(r("div",{id:"tip-arr-in",className:"tip-arr-in"})),L=r("div",{id:"tip-body",className:"tip-body"}),u.appendChild(L));if(f)!d.getAttribute("placeholder")&&d.getAttribute("data-placeholder")&&d.setAttribute("placeholder",d.getAttribute("data-placeholder"));else if(f=d.getAttribute("placeholder")||d.getAttribute("data-placeholder"))p=r("div",
{id:"placeholder",className:"placeholder"},{position:"absolute",margin:"0",padding:"0",height:l,lineHeight:l}),E(p,f),F(j,p);I();0>z||(7>z?x(s,"ie6"):8>z&&x(s,"ie7"));h.attachEvent(d,"onkeyup",S);h.attachEvent(d,"onfocus",U);h.attachEvent(d,"onblur",ba);p&&h.attachEvent(d,"onkeyup",aa);h.attachEvent(j,"onkeyup",S);h.attachEvent(j,"onfocus",U);h.attachEvent(j,"onblur",ba);p&&h.attachEvent(j,"onkeyup",aa);h.attachEvent(s,"onmouseover",I);h.attachEvent(G,"onresize",I);n&&(n.onclick=function(){P()});
t&&(t.onclick=function(){var c="",a=X(g.pattern,m.CharTypes.SYMBOL),b=[];h.each(a,function(a,c){for(var d=0;d<c.length;d++)b.push(a)});b.sort(function(){return 0.7-Math.random()});h.each(b,function(a){c+=h.selectRandom(g.chars[a])});j.value=d.value=c;P(!1);C&&clearTimeout(C);N();p&&(p.style.display="none")});p&&(p.onclick=function(){(A?d:j).focus()});P(g.isMasked,!1);if("function"===typeof d.hasAttribute&&d.hasAttribute("autofocus")||d.getAttribute("autofocus"))d.focus(),U();z=m.Config.dataAttr;q&&
q(d).data(z,this)}};var h={extend:function(){for(var b=arguments,e=1;e<b.length;e++)h.each(b[e],function(f,d){b[0][f]=h.isArray(b[e][f])||h.isArray(b[0][f])?b[0][f]?b[0][f].concat(d||[]):d:"object"===typeof b[0][f]&&"object"===typeof d?h.extend({},b[0][f],d):d});return b[0]},newEl:function(b,e,f){var d=y.createElement(b);e&&h.each(e,function(b,e){e&&(d[b]=e)});f&&h.each(f,function(b,e){e&&(d.style[b]=e)});return d},attachEvent:function(b,e,f){var d=b[e];b[e]=function(){f(b);"function"===typeof d&&
d(b)}},each:function(b,e){if(h.isArray(b))for(var f=0;f<b.length&&!1!==e(b[f]);f++);else for(f in b)if(Object.prototype.hasOwnProperty.call(b,f)&&!1===e(f,b[f]))break},isArray:function(b){return"[object Array]"===Object.prototype.toString.call(b)},selectRandom:function(b){var e=Math.floor(Math.random()*b.length);return h.isArray(b)?b[e]:b.charAt(e)},contains:function(b,e){if(!b)return!1;var f=!1;h.each(b,function(b){return b===e?(f=!0,!1):!0});return f}};q&&(q.fn.passField=function(b){return this.each(function(){new m.Field(this,
b)})},q.fn.togglePassMasking=function(b){return this.each(function(){var e=q(this).data(m.Config.dataAttr);e&&e.toggleMasking(b)})},q.fn.setPass=function(b){return this.each(function(){var e=q(this).data(m.Config.dataAttr);e&&e.setPass(b)})},q.fn.validatePass=function(){var b=!0;this.each(function(){var e=q(this).data(m.Config.dataAttr);e&&!e.validatePass()&&(b=!1)});return b},q.fn.getPassValidationMessage=function(){var b=this.first();return b&&(b=b.data(m.Config.dataAttr))?b.getPassValidationMessage():
null});q&&q.validator&&jQuery.validator.addMethod("passfield",function(b,e){q(e).validatePass()},function(b,e){return q(e).getPassValidationMessage()})})(window.jQuery,document,window);
